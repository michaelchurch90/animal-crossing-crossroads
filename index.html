<!DOCTYPE html>
<html>

<head>
    <title>Animal Crossing</title>
    <link rel="stylesheet" href="styles.css">

    <!-- development version, includes helpful console warnings -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>

<!-- production version, optimized for size and speed -->
<!-- <script src="https://cdn.jsdelivr.net/npm/vue"></script> -->

<body>

    <h1>Animal Crossing</h1>

    <div id="app">
        <div class="fish-container" v-for="(fish, name) in fishes" class="fish-container">
            <label>{{name}}</label>
            <img v-bind:src="fish.icon_uri" />
            <div class="fish-info">
                <p>Time: {{fish.availability.isAllDay ? "All Day": fish.availability.time}}</p>
                <p>Location: {{fish.availability.location}}</p>
                <p>Rarity: {{fish.availability.rarity}}</p>
                <p>Shadow: {{fish.shadow}}</p>
            </div>
            <div class="months">
                <div v-for="i in 12">
                    <div class="enabled-month month" v-if="fish.availability['month-array-northern'].includes(i)">
                        {{monthDictionary[i-1]}}
                    </div>
                    <div class="disabled-month month" v-else>
                        {{monthDictionary[i-1]}}
                    </div>
                </div>
            </div>
        </div>
    </div>



    <script>
        var app = new Vue({
            el: '#app',
            data: {
                monthDictionary: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                fishes: {}
            }
        })

        async function getFish() {
            return await fetch('https://acnhapi.com/v1/fish').then(response => response.json())
        }

        getFish().then(fish => app.fishes = fish)


    </script>


</body>

</html>